# Makefile.env - ç’°å¢ƒå¤‰æ•°ç®¡ç†

.PHONY: env-init env-validate env-backup env-restore env-list

env-init:
	@echo "ğŸ”§ ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆæœŸåŒ–ä¸­..."
	@if [ -z "$(ENV)" ]; then \
		echo "âš ï¸  ç’°å¢ƒã‚¿ã‚¤ãƒ—ã‚’æŒ‡å®šã—ã¦ãã ã•ã„: make env-init ENV=development"; \
		echo "åˆ©ç”¨å¯èƒ½ãªç’°å¢ƒ: development, test, production"; \
		exit 1; \
	fi
	@./script/env-manager.sh init $(ENV)

env-validate:
	@echo "ğŸ” ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œè¨¼ä¸­..."
	@./script/env-manager.sh validate

env-backup:
	@echo "ğŸ’¾ ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¸­..."
	@./script/env-manager.sh backup

env-restore:
	@echo "ğŸ”„ ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¾©å…ƒä¸­..."
	@if [ -z "$(FILE)" ]; then \
		echo "âš ï¸  å¾©å…ƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ãã ã•ã„: make env-restore FILE=.env.backup.20240101_120000"; \
		exit 1; \
	fi
	@./script/env-manager.sh restore $(FILE)

env-list:
	@echo "ğŸ“‹ åˆ©ç”¨å¯èƒ½ãªç’°å¢ƒã‚’ä¸€è¦§è¡¨ç¤ºä¸­..."
	@./script/env-manager.sh list 